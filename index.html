<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Skaf Jewelery</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>


    <style>

        body {
            margin: 0;
            overflow: hidden; /* Prevent scrolling during the splash screen */
          }
          
          #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #ffffff; /* Background color of the splash screen */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeInOut 4s ease-in-out;

          }
          
          .splash-content {
            text-align: center;
          }
          
          
          .logo {
            width: 70%;
            height: auto;
          }
          
          /* Fade in and fade out keyframes */
          @keyframes fadeInOut {
            0% {
              opacity: 0; /* Start transparent */
            }
            25% {
              opacity: 1; /* Fade in */
            }
            75% {
              opacity: 1; /* Stay visible */
            }
            100% {
              opacity: 0; /* Fade out */
            }
          }
          
          /* Hide the main content initially */
          #main-content {
            display: none;
          }
          
        /* General Styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: black;
            color: #333;
        }

        h1, h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #444;
        }

        h1 {
            font-size: 1.8rem;
        }

        h2 {
            font-size: 2.2rem;
        }

        .container {
            max-width: 500px;
            margin: 20px auto;
            padding: 20px;
            background: #F2F0EF;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        

        input, button, textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1.8rem;
            box-sizing: border-box;
            box-shadow: 2px 4px 6px rgba(0, 0, 0, 0.2); /* Adds shadow */

        }
       
        

        label{
            font-size: 2rem;

        }

        input:focus, textarea:focus, button:focus {
            border-color: #007bff;
            outline: none;
        }

        button {
            background-color: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
        }

        button:hover {
            background-color: #0056b3;
        }

        textarea {
            font-family: monospace;
            resize: none;
            height: auto;
        }

        .copy-btn {
            margin-top: -10px;
        }

        /* Counter Styling */
        .counter-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .counter {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .counter-label {
            font-size: 14px;
            font-weight: bold;
            text-align: center;
        }

        .counter button {
            padding: 8px;
            width: 40px;
            font-size: 16px;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            border: none;
            font-weight: bold;
        }

        .counter input {
            width: 60px;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        /* Panel Styling */
        .panel-default > .panel-heading {
            background-image: linear-gradient(to right, #4b6cb7 0%, #182848 51%, #4b6cb7 100%);
            background-size: 200% auto; /* Match the gradient animation */
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        .panel-title {
            font-size: 2rem;
            font-weight: bold;
        }
        .toast {
            visibility: hidden; /* Hidden by default */
            min-width: 250px; /* Minimum width */
            margin-left: -125px; /* Center the toast */
            background-color: #0ea516; /* Dark background */
            color: #fff; /* White text */
            text-align: center; /* Center text */
            border-radius: 4px; /* Rounded corners */
            padding: 16px; /* Padding */
            position: fixed; /* Position it at the bottom center */
            z-index: 1000; /* Above other elements */
            left: 50%; /* Center horizontally */
            bottom: 30px; /* 30px from the bottom */
            font-size: 17px; /* Font size */
            opacity: 0; /* Initially transparent */
            transition: opacity 0.5s ease-in-out, bottom 0.5s ease-in-out;
        }
        
        .toast.show {
            visibility: visible; /* Show the toast */
            opacity: 1; /* Fully opaque */
            bottom: 50px; /* Move it up slightly */
        }
        .btn-grad {background-image: linear-gradient(to right, #4b6cb7 0%, #182848  51%, #4b6cb7  100%)}
         .btn-grad {   text-align: center; text-transform: uppercase; transition: 0.5s; background-size: 200% auto; color: white; box-shadow: 0 0 20px #eee; border-radius: 10px;  }

        
        /* Responsive Styling */
        @media (max-width: 600px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1rem;
            }

            .container {
                padding: 15px;
            }

            input, button, textarea {
                font-size: 0.9rem;
                padding: 10px;
            }
            input {
                width: 100%;
                padding: 12px;
                margin-bottom: 15px;
                border: 1px solid #ddd;
                border-radius: 5px;
                font-size: 1.8rem;
                box-sizing: border-box;
                box-shadow: 2px 4px 6px rgba(0, 0, 0, 0.2); /* Adds shadow */
    
            }

            .counter-container {
                flex-direction: row;
                gap: 40px;
            }

            .counter {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
    
            .counter-label {
                font-size: 14px;
                font-weight: bold;
                text-align: center;
            }
    
            .counter button {
                padding: 8px;
                width: 40px;
                font-size: 16px;
                border-radius: 5px;
                background-color: #007bff;
                color: white;
                border: none;
                font-weight: bold;
            }
    
            .counter input {
                width: 60px;
                text-align: center;
                font-size: 16px;
                font-weight: bold;
                border-radius: 5px;
                border: 1px solid #ccc;
            }
            button{
                font-size: 3rem;
            }

            .btn-grad {background-image: linear-gradient(to right, #4b6cb7 0%, #182848  51%, #4b6cb7  100%)}
            .btn-grad {   text-align: center; text-transform: uppercase; transition: 0.5s; background-size: 200% auto; color: white; box-shadow: 0 0 20px #eee; border-radius: 10px;  }
            label {
                display: block;
                margin-bottom: 8px;
                font-weight: bold;
                font-size: 1.8rem;
            }

            h2{
                font-size: 1.8rem;
        
            }

        

        }
    </style>
</head>
<body>

    <div id="splash-screen">
        <div class="splash-content">
          <img src="SKAF.png" alt="Logo" class="logo">
        </div>
      </div>
      <div id="main-content">


    <div class="container" style="text-align: center;">
        <img src="SKAF.png" style="width:50%;">
        

        <div id="toast" class="toast">This is a toast message!</div>

        <!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
    <div class="tradingview-widget-container__widget"></div>
    <div class="tradingview-widget-copyright"><a href="https://ar.tradingview.com/" rel="noopener nofollow" target="_blank"><span class="blue-text"></span></a></div>
    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-tickers.js" async>
    {
    "symbols": [
      {
        "description": "",
        "proName": "OANDA:XAUUSD"
      },
      {
        "description": "Silver",
        "proName": "CAPITALCOM:SILVER"
      }
    ],
    "isTransparent": true,
    "showSymbolLogo": true,
    "colorTheme": "light",
    "locale": "ar_AE"
  }
    </script>
  </div>
  <!-- TradingView Widget END -->

  

        <label for="ouncePrice">أدخل سعر الاونصة</label>
        <input type="number" id="ouncePrice" placeholder="e.g., 2000" step="0.01">

        
        <div class="panel-group">
            <div class="panel panel-default">
                <div class="panel-heading" data-toggle="collapse" href="#collapse1" style="cursor: pointer;">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#collapse1"><img src="settings.svg"  style="width: 24px; height: 24px; margin-left: 8px; cursor: pointer;" /></a>
                    </h4>
                </div>
                <div id="collapse1" class="panel-collapse collapse">
                    <div class="panel-body">
                        <div class="counter-container">
                            <!-- First Counter -->
                            <div class="counter">
                                <label for="input1" class="counter-label">مبيع</label>
                                <button class="btn-grad"  onclick="decrement('input1')">-</button>
                                <input type="number" id="input1" value="30"  />
                                <button class="btn-grad"  onclick="increment('input1')">+</button>
                            </div>

                            <!-- Second Counter -->
                            <div class="counter">
                                <label for="input2" class="counter-label">كسر</label>
                                <button class="btn-grad"  onclick="decrement('input2')">-</button>
                                <input type="number" id="input2" value="-30"  />
                                <button class="btn-grad"  onclick="increment('input2')">+</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button class="btn-grad" onclick="calculatePrices()"><img src="calculator.svg" alt="Calculator" style="width: 24px; height: 24px; margin-left: 8px; cursor: pointer;" />
        </button>

        <h2>Message</h2>
        <textarea id="result"  dir="rtl" readonly oninput="autoResize(this)"></textarea>
        <button  class="copy-btn btn-grad" onclick="copyToClipboard()">نسخ</button>
        <a href="https://wa.me" target="_blank">
        <button class="copy-btn btn-grad"  ><img src="whatsapp.svg"  style="width: 24px; height: 24px; margin-left: 8px; cursor: pointer;" /></button>
        </a>  
        <button class="btn-grad"  onclick="createCanvasWithTable()">Image</button>

  </div>
  <div class="container"></div>


    <script>

      
        window.addEventListener('load', () => {
            const splash = document.getElementById('splash-screen');
            const mainContent = document.getElementById('main-content');
          
            setTimeout(() => {
              splash.style.display = 'none'; // Hide splash screen after animation
              mainContent.style.display = 'block'; // Show main content
              document.body.style.overflow = 'auto'; // Restore scrolling
            }, 4000); // Match the duration of the fadeInOut animation (4s)
          });
          
          
        function increment(inputId) {
            const input = document.getElementById(inputId);
            let value = parseInt(input.value, 10);
            value++;
            input.value = value.toString().padStart(2, '0');
        }

        function decrement(inputId) {
            const input = document.getElementById(inputId);
            let value = parseInt(input.value, 10);
            value--;
            input.value = value.toString().padStart(2, '0');
        }

        function calculatePrices() {
            const ouncePrice = parseFloat(document.getElementById('ouncePrice').value);
            if (isNaN(ouncePrice) || ouncePrice <= 0) {
                alert("Please enter a valid ounce price!");
                return;
            }

            let input1Value = parseFloat(document.getElementById('input1').value);
            let input2Value = parseFloat(document.getElementById('input2').value);
            const gramPrice = ((ouncePrice + input1Value) * 32) /1000;

            const price24kBuy = gramPrice;
            const price21kBuy = gramPrice * 0.875;
            const price18kBuy = gramPrice * 0.75;

            const gramPriceKaser = ((ouncePrice + input2Value) * 32)/1000;

            const margin = 5;
            const price24kSell = gramPriceKaser;
            const price21kSell = gramPriceKaser * 0.875;
            const price18kSell = gramPriceKaser * 0.75; 

            const otmaniCoinWeight = 8;
            const otmaniCoinPrice = price21kBuy * otmaniCoinWeight;

            const today = new Date();
            const formattedDate = new Intl.DateTimeFormat('ar-EG', { dateStyle: 'full' }).format(today);
            
            // Assuming you have the ounce price stored in a variable, e.g., `ouncePrice`.
            
            const result = `
*${formattedDate}*

*سعر الأونصة*: ${ouncePrice}
______________________________
*سعر غرام الشراء* \`بدون أجار مصنعية\`
\`عيار 18\`: ${price18kBuy.toFixed(2)}$
\`عيار 21\`: ${price21kBuy.toFixed(2)}
______________________________
*غرام المبيع* \`بدون أجار مصنعية\`
\`عيار 18\`: ${price18kSell.toFixed(2)}
\`عيار 21\`: ${price21kSell.toFixed(2)}
______________________________
*الليرة الإنجليزي* \`بدون أجار مصنعية\`
\`ليرة\`: ${price18kSell.toFixed(2)}
\`نص ليرة\`: ${price21kSell.toFixed(2)}
\`ربع ليرة\`: ${price21kSell.toFixed(2)}
______________________________
*سعر الليرة العثماني* \`بدون أجار مصنعية\`
\`ليرة\`: ${price18kSell.toFixed(2)}
\`نص ليرة\`: ${price21kSell.toFixed(2)}
\`ربع ليرة\`: ${price21kSell.toFixed(2)}

> اسعار اونصة الذهب الفوري تخضع للعرض والطلب في تداول  البورصات العالمية في حال كان لديك أي استفسار او اسئلة لدينا فريق عمل جاهز للتواصل معكم

مجوهرات وسام سكاف 
71808465
03677037

`;
            
            

            const textarea = document.getElementById('result');
            textarea.value = result.trim();
            autoResize(textarea);
        }

        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = `${textarea.scrollHeight}px`;
        }

        function copyToClipboard() {
            const textarea = document.getElementById('result');
            textarea.select();
            textarea.setSelectionRange(0, 99999);
            document.execCommand("copy");
            showToast('Copied');

        }

        function createCanvasWithTable() {
            const resultText = document.getElementById('result').value;
        
            // Parse the Arabic text into a table structure
            const rows = resultText.split('\n').map(line => line.split(':'));
        
            // Create the canvas
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
        
            // Set canvas dimensions dynamically based on device screen size
            const deviceWidth = window.innerWidth * 0.8; // 80% of screen width
            const deviceHeight = window.innerHeight * 0.8; // 80% of screen height
            canvas.width = deviceWidth;
            canvas.height = deviceHeight;
        
            // Set background color
            ctx.fillStyle = "#F2F0EF"; // Light background
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        
            // Set general text properties
            ctx.font = "20px Arial";
            ctx.fillStyle = "#333"; // Text color
            ctx.textAlign = "center";
            ctx.direction = "rtl"; // RTL for Arabic text
        
            // Title
            ctx.font = "bold 28px Arial";
            ctx.fillText("حساب سعر الذهب", canvas.width / 2, 50);
        
            // Table properties
            const tableStartX = 50;
            const tableStartY = 100;
            const tableWidth = canvas.width - 100;
            const rowHeight = 40;
            const colWidth = tableWidth / 2; // Two columns: labels and values
        
            // Draw table rows and text
            rows.forEach((row, index) => {
                const yPosition = tableStartY + index * rowHeight;
        
                // Draw the row background
                ctx.fillStyle = index % 2 === 0 ? "#e6e6e6" : "#ffffff"; // Alternating row colors
                ctx.fillRect(tableStartX, yPosition, tableWidth, rowHeight);
        
                // Draw the label (right column)
                ctx.fillStyle = "#333";
                ctx.textAlign = "right";
                ctx.fillText(row[0], tableStartX + tableWidth - 10, yPosition + rowHeight / 2 + 8);
        
                // Draw the value (left column)
                if (row[1]) {
                    ctx.textAlign = "left";
                    ctx.fillText(row[1], tableStartX + 10, yPosition + rowHeight / 2 + 8);
                }
            });
        
            // Draw table borders
            ctx.strokeStyle = "#333";
            ctx.lineWidth = 1;
        
            // Horizontal lines
            rows.forEach((_, index) => {
                const yPosition = tableStartY + index * rowHeight;
                ctx.beginPath();
                ctx.moveTo(tableStartX, yPosition);
                ctx.lineTo(tableStartX + tableWidth, yPosition);
                ctx.stroke();
            });
            // Bottom line
            ctx.beginPath();
            ctx.moveTo(tableStartX, tableStartY + rows.length * rowHeight);
            ctx.lineTo(tableStartX + tableWidth, tableStartY + rows.length * rowHeight);
            ctx.stroke();
        
            // Vertical line
            ctx.beginPath();
            ctx.moveTo(tableStartX + colWidth, tableStartY);
            ctx.lineTo(tableStartX + colWidth, tableStartY + rows.length * rowHeight);
            ctx.stroke();
        
            // Create a button to download the canvas as an image
            const downloadButton = document.createElement('a');
            downloadButton.href = canvas.toDataURL('image/png');
            downloadButton.download = 'gold_price_table.png';
            downloadButton.textContent = 'Download Image';
            downloadButton.style.display = 'block';
            downloadButton.style.marginTop = '20px';
        
            // Append the canvas and download button to the container
            const container = document.querySelector('.container');
    container.appendChild(canvas);
    container.appendChild(downloadButton);
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message; // Set the message
            toast.className = 'toast show'; // Add the "show" class
        
            // Remove the "show" class after 3 seconds
            setTimeout(() => {
                toast.className = 'toast';
            }, 3000);
        }
        
        // Example usage
        
        
   
    </script>
</body>
</html>
